# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Feature Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

## ðŸŽ¯ Ð¦ÐµÐ»ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°

ÐÐ°ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ **Feature Ð¼Ð¾Ð´ÑƒÐ»Ð¸** Ð² Flutter Ð¼Ð¾Ð½Ð¾Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸:

- ÐœÐ¾Ð´ÑƒÐ»Ð¸ Ñ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ feature
- ÐžÐ±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ ÐµÐ´Ð¸Ð½ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Feature Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· `make create-feature`
- ÐÐ°ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¾Ð²Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð¸ (BLoC, Domain, Data, UI)

---

## Ð§Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Feature Ð¼Ð¾Ð´ÑƒÐ»ÑŒ?

**Feature Ð¼Ð¾Ð´ÑƒÐ»ÑŒ** - ÑÑ‚Ð¾ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹:

- **Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚** Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÑƒ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ feature
- **Ð—Ð°Ð²Ð¸ÑÐ¸Ñ‚** Ð¾Ñ‚ Core Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹ (database, rest_client, ui_library)
- **ÐœÐ¾Ð¶ÐµÑ‚ Ð·Ð°Ð²Ð¸ÑÐµÑ‚ÑŒ** Ð¾Ñ‚ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Feature
- **ÐÐ• Ð¼Ð¾Ð¶ÐµÑ‚** Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ Ð´Ð»Ñ Core Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Feature Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹

- `auth` - Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ (login, register, logout)
- `home` - Ð³Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÑÐºÑ€Ð°Ð½ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- `user_profile` - Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ (view, edit)
- `settings` - Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- `check_health` - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ (Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ„Ð¸Ñ‡Ð°)
- `history_entries` - Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº
- `workout` - Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ°

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Feature Ð¼Ð¾Ð´ÑƒÐ»Ñ

```
feature/
â””â”€â”€ my_feature/
    â”œâ”€â”€ pubspec.yaml
    â”œâ”€â”€ lib/
    â”‚   â”œâ”€â”€ my_feature.dart              # ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚
    â”‚   â””â”€â”€ src/
    â”‚       â”œâ”€â”€ bloc/                    # BLoC Ð»Ð¾Ð³Ð¸ÐºÐ°
    â”‚       â”œâ”€â”€ domain/                  # Ð‘Ð¸Ð·Ð½ÐµÑ Ð»Ð¾Ð³Ð¸ÐºÐ°
    â”‚       â”‚   â”œâ”€â”€ models/              # Domain Ð¼Ð¾Ð´ÐµÐ»Ð¸ (Entities)
    â”‚       â”‚   â””â”€â”€ repositories/        # Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ²
    â”‚       â”œâ”€â”€ data/                    # Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…
    â”‚       â”‚   â”œâ”€â”€ repositories/        # Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ²
    â”‚       â”‚   â”œâ”€â”€ datasources/         # Remote/Local data sources
    â”‚       â”‚   â””â”€â”€ models/              # DTOs
    â”‚       â”œâ”€â”€ widget/                  # UI Ð²Ð¸Ð´Ð¶ÐµÑ‚Ñ‹
    â”‚       â””â”€â”€ dependencies/            # DI
    â””â”€â”€ test/
        â”œâ”€â”€ bloc/
        â”œâ”€â”€ repositories/
        â””â”€â”€ datasources/
```

### pubspec.yaml Ð´Ð»Ñ Feature

```yaml
name: my_feature
description: My Feature module
publish_to: none

environment:
  sdk: ">=3.8.0 <4.0.0"
  flutter: ">=3.32.0 <4.0.0"

dependencies:
  flutter:
    sdk: flutter

  # BLoC
  flutter_bloc: ^8.1.6

  # JSON
  json_annotation: ^4.9.0

  # Core modules
  common:
    path: ../../core/common
  rest_client:
    path: ../../core/rest_client
  database:
    path: ../../core/database
  ui_library:
    path: ../../core/ui_library

  # Other features (if needed)
  # auth:
  #   path: ../auth

dev_dependencies:
  flutter_test:
    sdk: flutter

  # Code generation
  build_runner: ^2.4.13
  json_serializable: ^6.8.0

  # Testing
  mocktail: ^1.0.4
  bloc_test: ^9.1.7
```

## ï¿½ ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð¼Ð¾Ð´ÑƒÐ»ÑÐ¼Ð¸

### ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾ 1: Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ð°Ð¿Ð¾Ðº Feature Ð¼Ð¾Ð´ÑƒÐ»Ñ

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾:**
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ: `bloc/`, `domain/`, `data/`, `widget/`, `dependencies/`

**ÐžÐ±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ:**

- **BLoC ÑÐ»Ð¾Ð¹** (`bloc/`) - Ð²ÑÑ Ð»Ð¾Ð³Ð¸ÐºÐ° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÐµÐ¼
- **Ð”Ð¾Ð¼ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ»Ð¾Ð¹** (`domain/`) - Ð±Ð¸Ð·Ð½ÐµÑ-Ð¼Ð¾Ð´ÐµÐ»Ð¸ (Entities) Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ²
- **Ð¡Ð»Ð¾Ð¹ Ð´Ð°Ð½Ð½Ñ‹Ñ…** (`data/`) - Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÐµÐ², DTO, data sources (remote/local)
- **UI ÑÐ»Ð¾Ð¹** (`widget/`) - Ð²Ð¸Ð´Ð¶ÐµÑ‚Ñ‹ Ð¸ ÑÐºÑ€Ð°Ð½Ñ‹
- **DI** (`dependencies/`) - Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
- Ð§ÐµÑ‚ÐºÐ¾Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸

### ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾ 2: ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾:**
Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐ¹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð¼Ð¾Ð´ÑƒÐ»ÑÐ¼ Ñ‡ÐµÑ€ÐµÐ· `lib/{module_name}.dart`

**ÐžÐ±Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ:**

- **Ð˜Ð½ÐºÐ°Ð¿ÑÑƒÐ»ÑÑ†Ð¸Ñ**: Ð”ÐµÑ‚Ð°Ð»Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¾ÑÑ‚Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¼Ð¸
- **API Ð¼Ð¾Ð´ÑƒÐ»Ñ**: Ð¯Ð²Ð½Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚ Ð¼Ð¾Ð´ÑƒÐ»Ñ
- **Ð£Ð¿Ñ€Ð¾Ñ‰ÐµÐ½Ð¸Ðµ Ñ€ÐµÑ„Ð°ÐºÑ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°**: ÐœÐ¾Ð¶Ð½Ð¾ Ð¼ÐµÐ½ÑÑ‚ÑŒ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑŽÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ

---

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Feature Ð¼Ð¾Ð´ÑƒÐ»Ñ

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ñ„Ð¸Ñ‡Ñƒ
make create-feature NAME=my_feature
```

Ð­Ñ‚Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:

1. âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð¿Ð°ÐºÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· `flutter create --template=package`
2. âœ… Ð£Ð´Ð°Ð»Ð¸Ñ‚ Ð½ÐµÐ½ÑƒÐ¶Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
3. âœ… Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¿Ð°Ð¿Ð¾Ðº:
   - `lib/src/bloc/`
   - `lib/src/domain/repositories/`
   - `lib/src/domain/models/`
   - `lib/src/data/`
   - `lib/src/widget/`
   - `lib/src/dependencies/`

â— **ÐŸÐ¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Feature Ð¼Ð¾Ð´ÑƒÐ»Ñ:**

1. Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð² `feature/my_feature/pubspec.yaml`
2. Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð² workspace (`root/pubspec.yaml`)
3. Ð¡Ð¾Ð·Ð´Ð°Ð¹ Domain ÑÐ»Ð¾Ð¹ (Ð¼Ð¾Ð´ÐµÐ»Ð¸, Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸)
4. Ð¡Ð¾Ð·Ð´Ð°Ð¹ Data ÑÐ»Ð¾Ð¹ (DTO, datasources, repositories)
5. Ð¡Ð¾Ð·Ð´Ð°Ð¹ BLoC
6. Ð¡Ð¾Ð·Ð´Ð°Ð¹ UI
7. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ DI

---

## âš ï¸ Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

â— **Ð’ÑÐµÐ³Ð´Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐ¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð² workspace Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:**

```yaml
# root/pubspec.yaml
workspace:
  - app
  - core/database
  - feature/my_feature # <-- Ð½Ðµ Ð·Ð°Ð±ÑƒÐ´ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ!
```

â— **Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð² DI Ð¿ÐµÑ€ÐµÐ´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼:**

[ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ Ð¾ DI Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ](../architecture/dependency-injection.md)

## âœ… Checklist ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Feature Ð¼Ð¾Ð´ÑƒÐ»Ñ

- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ð°Ð¿Ð¾Ðº Ñ‡ÐµÑ€ÐµÐ· `make create-feature`
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ pubspec.yaml Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸
- [ ] ÐœÐ¾Ð´ÑƒÐ»ÑŒ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð² workspace
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Domain Ð¼Ð¾Ð´ÐµÐ»Ð¸ Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Data Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ BLoC Ñ Events Ð¸ States
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ UI Ð²Ð¸Ð´Ð¶ÐµÑ‚Ñ‹
- [ ] ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ DI
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ð½ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚
- [ ] Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½ codegen
- [ ] ÐÐ°Ð¿Ð¸ÑÐ°Ð½Ñ‹ Ñ‚ÐµÑÑ‚Ñ‹

---

## ðŸ”— Ð¡Ð¼. Ñ‚Ð°ÐºÐ¶Ðµ

- [Core Ð¼Ð¾Ð´ÑƒÐ»Ð¸](./core-modules.md) - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Core Ð¼Ð¾Ð´ÑƒÐ»ÐµÐ¹
- [BLoC Pattern](../architecture/bloc-pattern.md) - Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½ BLoC
- [Dependency Injection](../architecture/dependency-injection.md) - Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° DI
- [Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ BLoC](../testing/bloc-testing.md) - Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±Ð»Ð¾ÐºÐ¾Ð²
